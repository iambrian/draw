<html>

<body>

    <canvas id="myCanvas" onmousedown="mouseDown(event)" onmousemove="mouseMove(event)" onmouseup="mouseUp(event)" onmouseout="mouseOut()" width="600" height="600 " style="border:1px solid #c3c3c3;">
        Your browser does not support the HTML5 canvas tag.
    </canvas>

    <p id="demo"></p>
    <p id="demo2"></p>

    <script>
        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");
        ctx.fillStyle = "#ffffff";
        ctx.fillRect(0, 0, 600, 600);

        var listX = new Array;
        var listY = new Array;
        var listDrag = new Array;
        var paint;

        function clearDraw() {
            ctx.clearRect(0, 0, 600, 600);
            listX = [];
            listY = [];
			listDrag = [];
        }

        function mouseDown(event) {
            var x = event.clientX;
            var y = event.clientY;
            paint = true;
            addList(x, y, false);
            redraw();
        }

        function mouseMove(event) {
            var x = event.clientX;
            var y = event.clientY;
            var coords = "X coords: " + x + ", Y coords: " + y;
            document.getElementById("demo").innerHTML = coords;
            if (paint) {
                addList(x, y, true);
            }
            redraw();

        }

        function mouseUp(event) {
			listX = [];
            listY = [];
			listDrag = [];
            paint = false;
        }

        function mouseOut() {
			listX = [];
            listY = [];
			listDrag = [];
            paint = false;
            document.getElementById("demo").innerHTML = "";
        }

        function redraw() {
            ctx.beginPath();
            ctx.lineWidth = 10;
            ctx.lineJoin = "round";
            ctx.moveTo(listX[0], listY[0]);
            for (i = 0; i < listX.length; i++) {
                if (listDrag[i]) {
                    ctx.moveTo(listX[i - 1], listY[i - 1]);
                } else {
                    ctx.moveTo(listX[i], listY[i]);
                }
                ctx.lineTo(listX[i], listY[i]);
                ctx.closePath();
                ctx.stroke();
            }
        }

        function addList(x, y, drag) {
            listX.push(x);
            listY.push(y);
            listDrag.push(drag);
        }

        function printArray() {
            document.getElementById("demo2").innerHTML = listX.toString() + "<br>" + listY.toString() + "<br>" + listDrag.toString();
        }
    </script>
	
    <button onClick="clearDraw()">Clear!</button>

    <button onClick="printArray()">Array!</button>

</body>

</html>